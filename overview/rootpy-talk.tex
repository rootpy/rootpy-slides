\documentclass[10pt,professionalfonts,serif,usenames,dvipsnames,svgnames,table]{beamer}

\include{preamble}
\include{phys_defs}

\title{rootpy: Pythonic ROOT}
%\subtitle{I have no subtitle}
\author[Noel Dawe]{Noel Dawe}
\date[\today]{\today}
\institute[rootpy]{for the rootpy dev team}
\titlegraphic{\includegraphics[height=3cm]{../common/images/rootpy_logo.png}}

\begin{document}

\frame{\titlepage
    \begin{center}
    {\bf ROOT Users Workshop, Saas-Fee}
    \end{center}
}

\frame{
    \frametitle{What's the problem?}
    
    \begin{center}
    {\bf Why would we even consider developing a layer on top of PyROOT?}
    \end{center}

    \begin{itemize}
        \itemsep=.3cm
        \item PyROOT is mainly bindings (although with some pythonization).
        \item Python's dynamic nature provides {\bf many possibilities not
            currently realized by PyROOT}. One might argue a majority of these
            high-level pythonizations are {\bf beyond the scope of what PyROOT should
            offer.}
        \item Certain tasks require awkward code and are error-prone.
            Similar workarounds are implemented by many in multiple places.\\
            {\bf Why not solve these issues once and for all?}
        \item There is a lack of integration of ROOT with the vast and growing 
            ecosystem of scientific Python packages.\\ {\bf Why not enable users to
            benefit from both the power of ROOT and what is offered by the
            scientific Python community?}
        \end{itemize}
}


\frame{
    \frametitle{Introducing rootpy}
    
    \begin{itemize}
        \item rootpy aims to provide a more pythonic layer on top of PyROOT
            bindings and to take advantage of advanced features of the Python
            language.
        \item rootpy does not intend to recreate ROOT or to severely alter the
            default behaviour of ROOT.
        \item rootpy is not an analysis framework, but rather a library that
            one's analysis framework might use.
        \vspace{.2cm}
        \begin{itemize}
            \itemsep=.2cm
            \item Setting and getting parameters with simple attributes:\\
                {\bf hist.linecolor = 'darkseagreen'}
            \item Simple navigation through TFiles:\\
                {\bf hist = myfile.somedirectory.otherdirectory.histname}
            \item Support for Python exceptions and logging
            \item Python has a garbage collector but C++ does not: leads to
                strange issues in PyROOT. rootpy addresses these problems.
            \item Arithmetic operators that are otherwise not implemented in
                PyROOT are implemented in rootpy
        \item rootpy classes simply inherit from the corresponding ROOT classes
            and may override methods to add functionality or be decorated with
            additional attributes
        \item rootpy classes typically have the same name as ROOT classes with
            the T removed
            but instead of having many histogram classes rootpy has three: Hist,
            Hist2D, Hist3D with a type argument in the constructor that controls
            which ROOT.THX is inherited from.
        \item Anywhere Python is typically slow (looping) is instead compiled as a C extension
            module. rootpy provides very fast conversion of ROOT Trees into
            NumPy arrays as well as efficiently filling ROOT histograms with
            NumPy arrays.

        \end{itemize}
    \end{itemize}

}

\frame{
    \frametitle{What does rootpy offer?}
    
    \begin{center}
    \rowcolors[]{1}{blue!20}{blue!10} 
    \begin{tabular}{l p{8cm}}
        {\bf rootpy.plotting} & histogram, graphs, canvas, pad, legend, and 
            style subclasses with additional pythonizations,
            functions for plotting ROOT histograms with matplotlib. \\
        {\bf rootpy.tree} & trees, chains, tree objects, tree models, cuts. \\
        {\bf rootpy.io} & file and directory subclasses, utilities. \\
        {\bf rootpy.logger} & routing ROOT messages through Python's
            logging module. Turn ROOT error messages into Python exceptions. \\
        {\bf rootpy.memory} & utilities for monitoring TObject deletions
            and for keeping objects alive when explicit references on the Python
            side go out of scope. \\
        {\bf rootpy.interactive} & a wait function for preventing Python
            from exiting until all canvases have been closed. \\
        {\bf rootpy.root2hdf5} & conversion of ROOT files to HDF5. \\
        {\bf rootpy.context} & utilities for managing ROOT's global state. \\
        \multicolumn{2}{c}{\ldots and more \ldots} \\
        \end{tabular}
    \end{center}
}

\begin{frame}[fragile]
    \frametitle{rootpy example: opening a TFile}
    \include{examples/file}
\end{frame}

\begin{frame}[fragile]
    \frametitle{rootpy example: creating histograms}
    \include{examples/hist}
    \include{examples/hist_rootpy}
\end{frame}

\begin{frame}[fragile]
    \frametitle{rootpy example: filling a TTree}
    \include{examples/tree}
\end{frame}

\frame{
    \frametitle{The future of rootpy}

    \begin{itemize}
        \item Larger documentation coverage. This is important!
        \item More code examples.
        \item Python 3 is becoming more mainstream -- support for this in rootpy
            will be required.
        \item Better integration with the IPython prompt: full tab completion
            and addition of helpful builtin commands like pylab.
        \item Automatic wrapping of ROOT methods by parsing method signatures:
            \begin{itemize}
                \item If a method expects a TColor, rootpy can accept any matplotlib/ROOT color
                      and convert it into a TColor before passing to the ROOT method.
                \item Reduce the amount of code in rootpy.
                \end{itemize}
       \item TMVA:
           \begin{itemize}
                \item Feed TMVA NumPy arrays instead of TTrees. 
                \end{itemize}
       \item RooFit and RooStats:
           \begin{itemize}
                \item Wrap RooArgSet as set() and RooArgList as list()...
                \item Create RooDataSets from NumPy arrays.
                \end{itemize}
   \end{itemize}
}

\frame{
    \frametitle{How can I contribute?}
    
    \begin{itemize}
        \item We use Git! Development is community-driven.
        \item Just fork rootpy into your own GitHub account and:
    
            \hspace{1cm} {\bf git clone git@github.com:[username]/rootpy.git}

              Then submit a pull request with your contribution.
        \item Contributions are reviewed by peers before merging into the main branch.
        \item All new code is automatically tested against our test suite using
            \href{https://travis-ci.org/}{Travis CI}
    \end{itemize}
}

\end{document}
